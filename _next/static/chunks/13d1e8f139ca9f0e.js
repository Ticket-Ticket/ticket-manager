(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10146,e=>{"use strict";var t=e.i(56563),a=e.i(29822);let r={pending:"ä¿ç•™",recruiting:"å‹Ÿé›†ä¸­",confirmed:"ç¢ºå®š",paid:"é‡‘éŠ­å‡¦ç†æ¸ˆ",received:"å—æ¸¡æ¸ˆ",completed:"å®Œäº†"},n={qr:"QRã”ã¨",accompany:"åŒè¡Œ",slot:"ç•ªæ‰‹",random:"ãƒ©ãƒ³ãƒ€ãƒ ",exchange:"äº¤æ›","payment-number":"æ”¯æ‰•ã„ç•ªå·è­²æ¸¡",friend:"å‹äººè­²æ¸¡",other:"ãã®ä»–"},s={ticketjam:"ãƒã‚±ã‚¸ãƒ£ãƒ ","ticket-ryutsu":"ãƒã‚±ãƒƒãƒˆæµé€šã‚»ãƒ³ã‚¿ãƒ¼","ticket-circle":"ãƒã‚±ãƒƒãƒˆã‚µãƒ¼ã‚¯ãƒ«",azukari:"ã‚¢ã‚ºã‚«ãƒª",twitter:"Twitter/X","in-person":"å¯¾é¢",other:"ãã®ä»–"},l={prepaid:"å…ˆæ‰•ã„",partially_prepaid:"ä¸€éƒ¨å…ˆæ‰•ã„",platform:"ã‚¢ãƒ—ãƒª/ã‚µã‚¤ãƒˆé€šã—",partially_platform:"ä¸€éƒ¨ã‚¢ãƒ—ãƒª/ã‚µã‚¤ãƒˆé€šã—",postpaid:"å¾Œæ‰•ã„",cash_on_delivery:"å½“æ—¥æ‰‹æ¸¡ã—",each:"éƒ½åº¦æ¸…ç®—",app:"ã‚¢ãƒ—ãƒªçµŒç”±",none:"ãªã—"},i={paypay:"PayPay",bank:"éŠ€è¡ŒæŒ¯è¾¼",cash:"ç¾é‡‘",linepay:"LINE Pay",merpay:"ãƒ¡ãƒ«ãƒšã‚¤",creditcard:"ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æ±ºæ¸ˆ",app:"ã‚¢ãƒ—ãƒªæ±ºæ¸ˆ",other:"ãã®ä»–"},o={pending:0,recruiting:1,confirmed:2,paid:3,received:4,completed:5},c=[{id:"sample-1",tourName:'Aã‡! group LIVE TOUR 2026 "RUNWAY"',performerName:"Aã‡! group",nameHolder:"è‡ªåˆ†åç¾©",eventDate:"2026-04-12",startTime:"17:00",venue:"å¤§é˜ªåŸŽãƒ›ãƒ¼ãƒ«",seatInfo:"ã‚¢ãƒªãƒ¼ãƒŠ Bãƒ–ãƒ­ãƒƒã‚¯ 5åˆ—",tradeMethod:"qr",status:"pending",price:9800,memo:"å‹é”ã¨è¢«ã£ãŸã‘ã©ã€ã¾ã ã©ã†ã™ã‚‹ã‹æ±ºã‚ã¦ãªã„ã€‚æ§˜å­è¦‹ã€‚",createdAt:"2026-01-10T10:00:00.000Z",updatedAt:"2026-01-10T10:00:00.000Z"},{id:"sample-2",tourName:'SixTONES LIVE TOUR 2026 "VVS"',performerName:"SixTONES",nameHolder:"è‡ªåˆ†åç¾©",eventDate:"2026-03-22",startTime:"18:00",venue:"æ±äº¬ãƒ‰ãƒ¼ãƒ ",seatInfo:"ã‚¹ã‚¿ãƒ³ãƒ‰ 1å¡å´ 20ã‚²ãƒ¼ãƒˆ 5åˆ—",tradeMethod:"qr",status:"recruiting",price:12e3,paymentTiming:"cash_on_delivery",platform:"twitter",mainContact:"https://x.com/example_user",relatedUrl:"https://x.com/example_user/status/1234567890",memo:"Xã§å‹Ÿé›†ä¸­ã€‚ãƒªãƒ—ã‹DMã§ã”é€£çµ¡ãã ã•ã„ã€‚å½“æ—¥æ‰‹æ¸¡ã—å¸Œæœ›ã€‚æœ¬äººç¢ºèªå¯¾å¿œå¯ã€‚",createdAt:"2026-01-08T15:00:00.000Z",updatedAt:"2026-01-11T09:00:00.000Z"},{id:"sample-3",tourName:'Snow Man LIVE TOUR 2026 "RAYS"',performerName:"Snow Man",nameHolder:"å‹äººA",eventDate:"2026-05-03",startTime:"17:00",venue:"äº¬ã‚»ãƒ©ãƒ‰ãƒ¼ãƒ å¤§é˜ª",tradeMethod:"accompany",status:"recruiting",price:13e3,paymentTiming:"platform",platform:"ticketjam",relatedUrl:"https://ticketjam.jp/items/example123",memo:"å‹äººAã®åç¾©åˆ†ã€‚åŒè¡Œè€…ã¨ã—ã¦å…¥å ´ã€‚ãƒã‚±ã‚¸ãƒ£ãƒ ã«å‡ºå“ä¸­ã€‚",createdAt:"2026-01-05T20:00:00.000Z",updatedAt:"2026-01-05T20:00:00.000Z"},{id:"sample-4",tourName:'Aã‡! group LIVE TOUR 2026 "RUNWAY"',performerName:"Aã‡! group",nameHolder:"è‡ªåˆ†åç¾©",eventDate:"2026-04-13",startTime:"13:00",venue:"å¤§é˜ªåŸŽãƒ›ãƒ¼ãƒ«",seatInfo:"ã‚¹ã‚¿ãƒ³ãƒ‰ Iãƒ–ãƒ­ãƒƒã‚¯ 8åˆ—",tradeMethod:"qr",status:"confirmed",partner:"ç”°ä¸­ã•ã‚“",price:9800,paymentTiming:"cash_on_delivery",platform:"twitter",mainContact:"https://x.com/tanaka_example",subContact:"LINE: tanaka123",memo:"Xã§è¦‹ã¤ã‘ã¦ãã‚ŒãŸç”°ä¸­ã•ã‚“ã«è­²æ¸¡äºˆå®šã€‚å½“æ—¥æ‰‹æ¸¡ã—ã§ç²¾ç®—ã€‚",createdAt:"2026-01-09T14:00:00.000Z",updatedAt:"2026-01-12T10:00:00.000Z"},{id:"sample-5",tourName:'ãªã«ã‚ç”·å­ LIVE TOUR 2026 "POPMALL 2"',performerName:"ãªã«ã‚ç”·å­",eventDate:"2026-06-15",startTime:"17:00",venue:"æ¨ªæµœã‚¢ãƒªãƒ¼ãƒŠ",tradeMethod:"accompany",status:"confirmed",partner:"å±±ç”°ã•ã‚“",price:10500,paymentTiming:"cash_on_delivery",platform:"twitter",mainContact:"https://x.com/yamada_example",relatedUrl:"https://x.com/yamada_example/status/9876543210",memo:"Xã§è¦‹ã¤ã‘ãŸå±±ç”°ã•ã‚“ã‹ã‚‰åŒè¡Œæž ã§è­²ã£ã¦ã„ãŸã ãã€‚å½“æ—¥ç¾åœ°ã§æ‰‹æ¸¡ã—ã€‚",createdAt:"2026-01-11T18:00:00.000Z",updatedAt:"2026-01-12T09:00:00.000Z"},{id:"sample-6",tourName:'Travis Japan LIVE TOUR 2026 "ELEVATION"',performerName:"Travis Japan",eventDate:"2026-07-20",startTime:"18:00",venue:"ã•ã„ãŸã¾ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒªãƒ¼ãƒŠ",seatInfo:"ã‚¢ãƒªãƒ¼ãƒŠ C3ãƒ–ãƒ­ãƒƒã‚¯",tradeMethod:"qr",status:"paid",partner:"é«˜æ©‹ã•ã‚“",price:11e3,paymentTiming:"platform",platform:"ticket-ryutsu",relatedUrl:"https://www.ticket.co.jp/trade/example456",memo:"ãƒã‚±ãƒƒãƒˆæµé€šã‚»ãƒ³ã‚¿ãƒ¼çµŒç”±ã§è³¼å…¥æ¸ˆã¿ã€‚QRãŒå±Šãã®ã‚’å¾…ã£ã¦ã„ã‚‹ã€‚",createdAt:"2026-01-06T11:00:00.000Z",updatedAt:"2026-01-08T16:00:00.000Z"},{id:"sample-7",tourName:'SixTONES LIVE TOUR 2026 "VVS"',performerName:"SixTONES",nameHolder:"è‡ªåˆ†åç¾©",eventDate:"2026-03-29",startTime:"17:00",venue:"äº¬ã‚»ãƒ©ãƒ‰ãƒ¼ãƒ å¤§é˜ª",tradeMethod:"exchange",status:"confirmed",exchangeEvent:{tourName:'SixTONES LIVE TOUR 2026 "VVS"',eventDate:"2026-03-30",startTime:"17:00",venue:"äº¬ã‚»ãƒ©ãƒ‰ãƒ¼ãƒ å¤§é˜ª"},partner:"éˆ´æœ¨ã•ã‚“",platform:"twitter",mainContact:"https://x.com/suzuki_example",memo:"éˆ´æœ¨ã•ã‚“ã¨29æ—¥â‡”30æ—¥ã§äº¤æ›ã€‚å…¬æ¼”å‰æ—¥ã«QRé€ã‚Šåˆã„äºˆå®šã€‚",createdAt:"2026-01-07T20:00:00.000Z",updatedAt:"2026-01-10T14:00:00.000Z"},{id:"sample-8",tourName:'Snow Man LIVE TOUR 2026 "RAYS"',performerName:"Snow Man",nameHolder:"è‡ªåˆ†åç¾©",eventDate:"2026-05-04",startTime:"17:00",venue:"äº¬ã‚»ãƒ©ãƒ‰ãƒ¼ãƒ å¤§é˜ª",tradeMethod:"slot",status:"confirmed",slotInfo:{totalSlots:4,mySlot:2},partner:"ä½è—¤ã•ã‚“",price:12500,paymentTiming:"cash_on_delivery",mainContact:"https://x.com/sato_example",subContact:"LINE ID: sato_line",memo:"4åç¾©ä¸­2ç•ªæ‰‹ã€‚ä½è—¤ã•ã‚“ã«è­²æ¸¡ã€‚å½“æ—¥ç¾åœ°ã§ç²¾ç®—äºˆå®šã€‚",createdAt:"2026-01-08T12:00:00.000Z",updatedAt:"2026-01-11T15:00:00.000Z"},{id:"sample-9",tourName:'Aã‡! group LIVE TOUR 2026 "RUNWAY"',performerName:"Aã‡! group",nameHolder:"è‡ªåˆ†åç¾©",eventDate:"2026-02-11",startTime:"17:00",venue:"Kã‚¢ãƒªãƒ¼ãƒŠæ¨ªæµœ",seatInfo:"ãƒ¬ãƒ™ãƒ«2 ã‚»ã‚¯ã‚·ãƒ§ãƒ³205",tradeMethod:"qr",status:"received",partner:"ä¸­æ‘ã•ã‚“",price:9800,paymentTiming:"prepaid",paymentMethod:"bank",platform:"twitter",mainContact:"https://x.com/nakamura_example",payments:[{id:"payment-1",amount:9800,paidAt:"2026-02-01T10:00:00.000Z",method:"bank",memo:"æŒ¯è¾¼ç¢ºèªæ¸ˆã¿"}],memo:"ä¸­æ‘ã•ã‚“ã«QRã”ã¨è­²æ¸¡å®Œäº†ã€‚å…¬æ¼”çµ‚ã‚ã£ãŸã‚‰å®Œäº†ã«ã™ã‚‹ã€‚",createdAt:"2026-01-05T09:00:00.000Z",updatedAt:"2026-02-10T18:00:00.000Z"},{id:"sample-10",tourName:'SixTONES LIVE TOUR 2025 "GOLD"',performerName:"SixTONES",nameHolder:"è‡ªåˆ†åç¾©",eventDate:"2025-12-28",startTime:"17:00",venue:"æ±äº¬ãƒ‰ãƒ¼ãƒ ",seatInfo:"ã‚¢ãƒªãƒ¼ãƒŠ A5ãƒ–ãƒ­ãƒƒã‚¯ 3åˆ—",tradeMethod:"accompany",status:"completed",partner:"å‹äººB",price:11500,paymentTiming:"cash_on_delivery",memo:"å‹äººBã¨å‚æˆ¦ã€‚æœ€é«˜ã®ãƒ©ã‚¤ãƒ–ã ã£ãŸï¼",createdAt:"2025-10-15T14:00:00.000Z",updatedAt:"2025-12-29T12:00:00.000Z"}],d="ticket-manager-tickets";function m(){return crypto.randomUUID()}let p={QRã”ã¨:"qr",åŒè¡Œ:"accompany",ç•ªæ‰‹:"slot",ãƒ©ãƒ³ãƒ€ãƒ :"random",äº¤æ›:"exchange",æ”¯æ‰•ã„ç•ªå·è­²æ¸¡:"payment-number",å‹äººè­²æ¸¡:"friend",ãã®ä»–:"other"},x={ãƒã‚±ã‚¸ãƒ£ãƒ :"ticketjam",ãƒã‚±ãƒƒãƒˆæµé€šã‚»ãƒ³ã‚¿ãƒ¼:"ticket-ryutsu",ãƒã‚±ãƒƒãƒˆã‚µãƒ¼ã‚¯ãƒ«:"ticket-circle",ã‚¢ã‚ºã‚«ãƒª:"azukari","Twitter/X":"twitter",å¯¾é¢:"in-person",ãã®ä»–:"other"},u={å…ˆæ‰•ã„:"prepaid",éƒ½åº¦æ¸…ç®—:"each",ã‚¢ãƒ—ãƒªçµŒç”±:"app",å¾Œæ‰•ã„:"postpaid",ãªã—:"none"},h=Object.fromEntries(Object.entries(i).map(([e,t])=>[t,e])),g={ä¿ç•™:"pending",å‹Ÿé›†ä¸­:"recruiting",ç¢ºå®š:"confirmed",é‡‘éŠ­å‡¦ç†æ¸ˆ:"paid",å—æ¸¡æ¸ˆ:"received",å®Œäº†:"completed"},v={async getAll(){let e=localStorage.getItem(d);if(!e)return[];try{return JSON.parse(e)}catch{return[]}},async getById(e){return(await this.getAll()).find(t=>t.id===e)||null},async create(e){let t=await this.getAll(),a=new Date().toISOString(),r={...e,id:m(),createdAt:a,updatedAt:a};return t.push(r),localStorage.setItem(d,JSON.stringify(t)),r},async update(e,t){let a=await this.getAll(),r=a.findIndex(t=>t.id===e);if(-1===r)return null;let n={...a[r],...t,updatedAt:new Date().toISOString()};return a[r]=n,localStorage.setItem(d,JSON.stringify(a)),n},async delete(e){let t=await this.getAll(),a=t.filter(t=>t.id!==e);return a.length!==t.length&&(localStorage.setItem(d,JSON.stringify(a)),!0)},async exportData(){return JSON.stringify(await this.getAll(),null,2)},async importData(e){try{let t=JSON.parse(e);if(!Array.isArray(t))return!1;let a=t.map(e=>{if("ãƒ„ã‚¢ãƒ¼å"in e){let t,a;if(e["ç•ªæ‰‹æƒ…å ±"]){let a=e["ç•ªæ‰‹æƒ…å ±"];t={totalSlots:a["å…¨ä½“åç¾©æ•°"],mySlot:a["è‡ªåˆ†ã®ç•ªæ‰‹"]}}if(e["äº¤æ›å…ˆå…¬æ¼”"]){let t=e["äº¤æ›å…ˆå…¬æ¼”"];a={tourName:t["ãƒ„ã‚¢ãƒ¼å"],eventDate:t["æ—¥ç¨‹"],startTime:t["é–‹æ¼”æ™‚é–“"],venue:t["ä¼šå ´"]}}return{id:e.id||m(),tourName:e["ãƒ„ã‚¢ãƒ¼å"],eventDate:e["æ—¥ç¨‹"],startTime:e["é–‹æ¼”æ™‚é–“"],venue:e["ä¼šå ´"],seatInfo:e["åº§å¸­æƒ…å ±"],tradeMethod:p[e["å–å¼•æ–¹æ³•"]]||"other",slotInfo:t,exchangeEvent:a,partner:e["å–å¼•ç›¸æ‰‹"],contactUrl:e["é€£çµ¡å…ˆURL"],platform:e["ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ "]?x[e["ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ "]]:void 0,platformDetail:e["ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ è©³ç´°"],relatedUrl:e["é–¢é€£URL"],price:e["é‡‘é¡"],paymentTiming:e["æ”¯æ‰•ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°"]?u[e["æ”¯æ‰•ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°"]]:void 0,paymentMethod:e["æ”¯æ‰•ã„æ–¹æ³•"]?h[e["æ”¯æ‰•ã„æ–¹æ³•"]]:void 0,status:g[e["ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"]]||"recruiting",memo:e["ãƒ¡ãƒ¢"],createdAt:e["ä½œæˆæ—¥"]||new Date().toISOString(),updatedAt:new Date().toISOString()}}return e});return localStorage.setItem(d,JSON.stringify(a)),!0}catch{return!1}},loadSampleData:async()=>(localStorage.setItem(d,JSON.stringify(c)),c)},f={pending:"bg-gray-100 text-gray-800 border-gray-300",recruiting:"bg-orange-100 text-orange-800 border-orange-300",confirmed:"bg-blue-100 text-blue-800 border-blue-300",paid:"bg-purple-100 text-purple-800 border-purple-300",received:"bg-pink-100 text-pink-800 border-pink-300",completed:"bg-green-100 text-green-800 border-green-300"};function N({status:e,onClick:a}){let n=f[e],s=a?"cursor-pointer hover:opacity-80":"";return(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${n} ${s}`,onClick:a,children:r[e]})}function y({ticket:e,onStatusChange:a,onDelete:r,onEdit:i,onDuplicate:o}){let c=e=>{if(!e)return"æ—¥ä»˜æœªè¨­å®š";let t=new Date(e);return isNaN(t.getTime())?"ç„¡åŠ¹ãªæ—¥ä»˜":t.toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric",weekday:"short"})},d=e=>null==e?"-":e.toLocaleString("ja-JP")+"å††";return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-pink-100 overflow-hidden hover:shadow-lg transition-shadow",children:[(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-bold text-gray-800 text-lg line-clamp-1",children:e.tourName}),e.performerName&&(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.performerName}),e.nameHolder&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1 flex items-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),e.nameHolder]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[c(e.eventDate),e.startTime&&` ${e.startTime}`," @ ",e.venue]}),e.seatInfo&&(0,t.jsx)("p",{className:"text-sm text-purple-600 mt-1",children:e.seatInfo})]}),(0,t.jsx)(N,{status:e.status,onClick:"completed"!==e.status?()=>{let t=["pending","recruiting","confirmed","paid","received","completed"],r=t.indexOf(e.status);r<t.length-1&&a&&a(e.id,t[r+1])}:void 0})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-pink-50 text-pink-700 rounded text-sm",children:n[e.tradeMethod]}),"slot"===e.tradeMethod&&e.slotInfo&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-sm",children:[e.slotInfo.mySlot,"/",e.slotInfo.totalSlots,"ç•ªæ‰‹"]}),e.platform&&(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-sm",children:s[e.platform]})]}),(0,t.jsxs)("div",{className:"flex items-end justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:e.partner&&`${e.partner}`}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("span",{className:"font-bold text-pink-600 text-lg",children:d(e.price)}),e.paymentTiming&&"none"!==e.paymentTiming&&(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[l[e.paymentTiming],("partially_prepaid"===e.paymentTiming||"partially_platform"===e.paymentTiming)&&null!=e.partialAmount&&(0,t.jsxs)("span",{className:"ml-1 font-medium text-gray-700",children:["(",d(e.partialAmount),")"]})]})]})]}),"exchange"===e.tradeMethod&&e.exchangeEvent&&(0,t.jsxs)("div",{className:"mt-2 p-2 bg-pink-50 rounded text-sm text-pink-700",children:[(0,t.jsx)("div",{className:"font-medium",children:"äº¤æ›å…ˆ:"}),(0,t.jsx)("div",{children:e.exchangeEvent.tourName}),(0,t.jsxs)("div",{className:"text-xs",children:[c(e.exchangeEvent.eventDate),e.exchangeEvent.startTime&&` ${e.exchangeEvent.startTime}`," @ ",e.exchangeEvent.venue]})]}),e.memo&&(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500 line-clamp-2",children:e.memo})]}),(0,t.jsxs)("div",{className:"flex border-t border-pink-100",children:[(0,t.jsx)("button",{onClick:()=>i?.(e),className:"flex-1 py-3 text-center text-purple-600 hover:bg-purple-50 transition-colors text-sm font-medium",children:"ç·¨é›†"}),(0,t.jsx)("button",{onClick:()=>o?.(e),className:"flex-1 py-3 text-center text-green-600 hover:bg-green-50 transition-colors text-sm font-medium border-l border-pink-100",children:"è¤‡è£½"}),e.mainContact&&(e.mainContact.startsWith("http://")||e.mainContact.startsWith("https://")?(0,t.jsx)("a",{href:e.mainContact,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-3 text-center text-blue-600 hover:bg-blue-50 transition-colors text-sm font-medium border-l border-pink-100",children:"ãƒ¡ã‚¤ãƒ³é€£çµ¡"}):(0,t.jsx)("span",{className:"flex-1 py-3 text-center text-blue-600 text-sm font-medium border-l border-pink-100",title:e.mainContact,children:"ãƒ¡ã‚¤ãƒ³é€£çµ¡"})),e.subContact&&(e.subContact.startsWith("http://")||e.subContact.startsWith("https://")?(0,t.jsx)("a",{href:e.subContact,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-3 text-center text-blue-600 hover:bg-blue-50 transition-colors text-sm font-medium border-l border-pink-100",children:"ã‚µãƒ–é€£çµ¡"}):(0,t.jsx)("span",{className:"flex-1 py-3 text-center text-blue-600 text-sm font-medium border-l border-pink-100",title:e.subContact,children:"ã‚µãƒ–é€£çµ¡"})),e.relatedUrl&&(0,t.jsx)("a",{href:e.relatedUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-3 text-center text-pink-600 hover:bg-pink-50 transition-colors text-sm font-medium border-l border-pink-100",children:"é–¢é€£ãƒªãƒ³ã‚¯"}),(0,t.jsx)("button",{onClick:()=>r?.(e.id),className:"flex-1 py-3 text-center text-gray-500 hover:bg-gray-50 hover:text-red-500 transition-colors text-sm font-medium border-l border-pink-100",children:"å‰Šé™¤"})]})]})}function j({ticket:e,onClick:a}){return(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-pink-50 transition-colors",onClick:()=>a(e),children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(e=>{if(!e)return"æ—¥ä»˜æœªè¨­å®š";let t=new Date(e);return isNaN(t.getTime())?"ç„¡åŠ¹ãªæ—¥ä»˜":t.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})})(e.eventDate)}),(0,t.jsx)("span",{className:"text-sm text-gray-600 truncate flex-1 min-w-0",children:e.venue}),e.nameHolder&&(0,t.jsx)("span",{className:"text-xs bg-gray-200 text-gray-700 px-1.5 py-0.5 rounded-full whitespace-nowrap",children:e.nameHolder}),(0,t.jsx)("span",{className:"text-sm text-gray-800 truncate flex-1 min-w-0",children:e.performerName||e.tourName})]})}let b={tourName:"",performerName:"",nameHolder:"",eventDate:"",startTime:"",venue:"",seatInfo:"",tradeMethod:"qr",slotInfo:void 0,exchangeEvent:void 0,partner:"",mainContact:"",subContact:"",platform:void 0,platformDetail:"",relatedUrl:"",price:void 0,paymentTiming:"none",partialAmount:void 0,paymentMethod:void 0,status:"recruiting",memo:""};function k({isOpen:e,onClose:o,initialData:c,onSubmit:d,onContinue:m,isDuplicate:p,tourNames:x,nameHolders:u}){let[h,g]=(0,a.useState)(b),[v,f]=(0,a.useState)(!1),[N,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{c?g({tourName:c.tourName,performerName:c.performerName||"",nameHolder:c.nameHolder||"",eventDate:c.eventDate,startTime:c.startTime||"",venue:c.venue,seatInfo:c.seatInfo||"",tradeMethod:c.tradeMethod,slotInfo:c.slotInfo,exchangeEvent:c.exchangeEvent,partner:c.partner||"",mainContact:c.mainContact||"",subContact:c.subContact||"",platform:c.platform,platformDetail:c.platformDetail||"",relatedUrl:c.relatedUrl||"",price:c.price,paymentTiming:c.paymentTiming||"none",partialAmount:c.partialAmount,paymentMethod:c.paymentMethod,status:c.status,memo:c.memo||""}):g(b),y(!1)},[c,e]);let j=e=>{let{name:t,value:a,type:r}=e.target;if(t.startsWith("slotInfo.")){let e=t.split(".")[1];g(t=>({...t,slotInfo:{totalSlots:t.slotInfo?.totalSlots||0,mySlot:t.slotInfo?.mySlot||0,[e]:""===a?0:Number(a)}}))}else if(t.startsWith("exchangeEvent.")){let e=t.split(".")[1];g(t=>({...t,exchangeEvent:{tourName:t.exchangeEvent?.tourName||"",eventDate:t.exchangeEvent?.eventDate||"",startTime:t.exchangeEvent?.startTime||"",venue:t.exchangeEvent?.venue||"",[e]:a}}))}else g(e=>({...e,[t]:"number"===r?""===a?void 0:Number(a):a}))},k=async e=>{if(e.preventDefault(),f(!0),!h.eventDate){alert("æ—¥ç¨‹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚"),f(!1);return}try{let e={...h};"slot"!==e.tradeMethod&&(e.slotInfo=void 0),"exchange"!==e.tradeMethod&&(e.exchangeEvent=void 0),"other"!==e.platform&&(e.platformDetail=""),"partially_prepaid"!==e.paymentTiming&&"partially_platform"!==e.paymentTiming&&(e.partialAmount=void 0),await d(e),c?o():y(!0)}finally{f(!1)}},w=()=>{y(!1),o()};if(!e)return null;let T="w-full px-3 py-2 border border-pink-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300 focus:border-transparent bg-white text-gray-800 text-sm",C="block text-xs font-medium text-gray-600 mb-1",S="partially_prepaid"===h.paymentTiming||"partially_platform"===h.paymentTiming;return N?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:w}),(0,t.jsxs)("div",{className:"relative w-full max-w-sm mx-4 bg-white rounded-2xl p-6 text-center",children:[(0,t.jsx)("div",{className:"text-5xl mb-4",children:"ðŸŽ«"}),(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"ç™»éŒ²ã—ã¾ã—ãŸï¼"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"åŒã˜ãƒ„ã‚¢ãƒ¼ã®åˆ¥ãƒã‚±ãƒƒãƒˆã‚’ç¶šã‘ã¦ç™»éŒ²ã§ãã¾ã™"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("button",{onClick:()=>{let e={...b,tourName:h.tourName,performerName:h.performerName,nameHolder:h.nameHolder,eventDate:h.eventDate,startTime:h.startTime,venue:h.venue};g(e),y(!1),m?.(e)},className:"w-full py-3 px-4 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-lg font-medium",children:"ç¶šã‘ã¦ç™»éŒ²ï¼ˆå…¬æ¼”æƒ…å ±ã‚’ä¿æŒï¼‰"}),(0,t.jsx)("button",{onClick:w,className:"w-full py-3 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium",children:"å®Œäº†"})]})]})]}):(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:o}),(0,t.jsxs)("div",{className:"relative w-full max-w-lg max-h-[90vh] bg-pink-50 rounded-t-2xl sm:rounded-2xl overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-pink-500 to-purple-500 text-white px-4 py-3 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-lg font-bold",children:p?"ãƒã‚±ãƒƒãƒˆè¤‡è£½":c?"ãƒã‚±ãƒƒãƒˆç·¨é›†":"ãƒã‚±ãƒƒãƒˆç™»éŒ²"}),(0,t.jsx)("button",{onClick:o,className:"p-1 hover:bg-white/20 rounded transition-colors",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("form",{onSubmit:k,className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-pink-100",children:[(0,t.jsxs)("h3",{className:"text-sm font-bold text-gray-800 mb-3 flex items-center",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-2"}),"å…¬æ¼”æƒ…å ±"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"ãƒ„ã‚¢ãƒ¼å *"}),(0,t.jsx)("input",{type:"text",name:"tourName",list:"tourNames-list",value:h.tourName,onChange:j,placeholder:"ä¾‹: VVS",className:T,required:!0}),(0,t.jsx)("datalist",{id:"tourNames-list",children:x.map(e=>(0,t.jsx)("option",{value:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"ã‚¿ãƒ¬ãƒ³ãƒˆå"}),(0,t.jsx)("input",{type:"text",name:"performerName",value:h.performerName,onChange:j,placeholder:"ä¾‹: SixTONES",className:T})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"åç¾©"}),(0,t.jsx)("input",{type:"text",name:"nameHolder",list:"nameHolders-list",value:h.nameHolder,onChange:j,placeholder:"ä¾‹: è‡ªåˆ†, å‹äººA",className:T}),(0,t.jsx)("datalist",{id:"nameHolders-list",children:u.map(e=>(0,t.jsx)("option",{value:e},e))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"æ—¥ç¨‹ *"}),(0,t.jsx)("input",{type:"date",name:"eventDate",value:h.eventDate,onChange:j,required:!0,className:T})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"é–‹æ¼”æ™‚é–“"}),(0,t.jsx)("input",{type:"time",name:"startTime",value:h.startTime,onChange:j,className:T})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"ä¼šå ´ *"}),(0,t.jsx)("input",{type:"text",name:"venue",value:h.venue,onChange:j,required:!0,placeholder:"ä¾‹: æ±äº¬ãƒ‰ãƒ¼ãƒ ",className:T})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"åº§å¸­æƒ…å ±"}),(0,t.jsx)("input",{type:"text",name:"seatInfo",value:h.seatInfo,onChange:j,placeholder:"ä¾‹: ã‚¢ãƒªãƒ¼ãƒŠA1",className:T})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-pink-100",children:[(0,t.jsxs)("h3",{className:"text-sm font-bold text-gray-800 mb-3 flex items-center",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"å–å¼•æƒ…å ±"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"å–å¼•æ–¹æ³• *"}),(0,t.jsx)("select",{name:"tradeMethod",value:h.tradeMethod,onChange:j,className:T,children:Object.keys(n).map(e=>(0,t.jsx)("option",{value:e,children:n[e]},e))})]}),"slot"===h.tradeMethod&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"å…¨ä½“åç¾©æ•°"}),(0,t.jsx)("input",{type:"number",name:"slotInfo.totalSlots",value:h.slotInfo?.totalSlots||"",onChange:j,min:"1",placeholder:"5",className:T})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"è‡ªåˆ†ã®ç•ªæ‰‹"}),(0,t.jsx)("input",{type:"number",name:"slotInfo.mySlot",value:h.slotInfo?.mySlot||"",onChange:j,min:"1",placeholder:"3",className:T})]})]}),"exchange"===h.tradeMethod&&(0,t.jsxs)("div",{className:"p-2 bg-pink-50 rounded-lg space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-pink-700",children:"äº¤æ›å…ˆå…¬æ¼”"}),(0,t.jsx)("button",{type:"button",onClick:()=>{g(e=>({...e,exchangeEvent:{tourName:e.tourName,eventDate:"",startTime:e.startTime||"",venue:""}}))},className:"text-xs text-pink-600 hover:text-pink-800 underline",children:"ãƒ„ã‚¢ãƒ¼åã‚’ã‚³ãƒ”ãƒ¼"})]}),(0,t.jsx)("input",{type:"text",name:"exchangeEvent.tourName",value:h.exchangeEvent?.tourName||"",onChange:j,placeholder:"ãƒ„ã‚¢ãƒ¼å",className:T}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)("input",{type:"date",name:"exchangeEvent.eventDate",value:h.exchangeEvent?.eventDate||"",onChange:j,className:T}),(0,t.jsx)("input",{type:"time",name:"exchangeEvent.startTime",value:h.exchangeEvent?.startTime||"",onChange:j,className:T})]}),(0,t.jsx)("input",{type:"text",name:"exchangeEvent.venue",value:h.exchangeEvent?.venue||"",onChange:j,placeholder:"ä¼šå ´",className:T})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"å–å¼•ç›¸æ‰‹"}),(0,t.jsx)("input",{type:"text",name:"partner",value:h.partner,onChange:j,placeholder:"ä¾‹: @username",className:T})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ "}),(0,t.jsxs)("select",{name:"platform",value:h.platform||"",onChange:j,className:T,children:[(0,t.jsx)("option",{value:"",children:"é¸æŠž"}),Object.keys(s).map(e=>(0,t.jsx)("option",{value:e,children:s[e]},e))]})]})]}),"other"===h.platform&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ è©³ç´°"}),(0,t.jsx)("input",{type:"text",name:"platformDetail",value:h.platformDetail,onChange:j,placeholder:"ä¾‹: ä¼šç¤¾ã®å…ˆè¼©çµŒç”±",className:T})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"ãƒ¡ã‚¤ãƒ³é€£çµ¡å…ˆï¼ˆç›¸æ‰‹ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç­‰ï¼‰"}),(0,t.jsx)("input",{type:"text",name:"mainContact",value:h.mainContact,onChange:j,placeholder:"ä¾‹: Twitter @username, LINE ID",className:T})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"ã‚µãƒ–é€£çµ¡å…ˆï¼ˆç·Šæ€¥æ™‚ãªã©ï¼‰"}),(0,t.jsx)("input",{type:"text",name:"subContact",value:h.subContact,onChange:j,placeholder:"ä¾‹: LINE ID, é›»è©±ç•ªå·",className:T})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"é–¢é€£URLï¼ˆå–å¼•æŠ•ç¨¿ãƒ»å‡ºå“ãƒšãƒ¼ã‚¸ç­‰ï¼‰"}),(0,t.jsx)("input",{type:"url",name:"relatedUrl",value:h.relatedUrl,onChange:j,placeholder:"ä¾‹: https://twitter.com/.../status/...",className:T})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-pink-100",children:[(0,t.jsxs)("h3",{className:"text-sm font-bold text-gray-800 mb-3 flex items-center",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"é‡‘é¡ãƒ»æ”¯æ‰•ã„"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"é‡‘é¡"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"number",name:"price",value:h.price??"",onChange:j,min:"0",placeholder:"15000",className:`${T} pr-8`}),(0,t.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"å††"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"æ”¯æ‰•ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°"}),(0,t.jsx)("select",{name:"paymentTiming",value:h.paymentTiming||"none",onChange:j,className:T,children:Object.keys(l).map(e=>(0,t.jsx)("option",{value:e,children:l[e]},e))})]})]}),S&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"ä¸€éƒ¨é‡‘é¡"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"number",name:"partialAmount",value:h.partialAmount??"",onChange:j,min:"0",placeholder:"5000",className:`${T} pr-8`}),(0,t.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"å††"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"æ”¯æ‰•ã„æ–¹æ³•"}),(0,t.jsxs)("select",{name:"paymentMethod",value:h.paymentMethod||"",onChange:j,className:T,children:[(0,t.jsx)("option",{value:"",children:"é¸æŠžã—ãªã„"}),Object.keys(i).map(e=>(0,t.jsx)("option",{value:e,children:i[e]},e))]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-pink-100",children:[(0,t.jsxs)("h3",{className:"text-sm font-bold text-gray-800 mb-3 flex items-center",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"}),(0,t.jsx)("select",{name:"status",value:h.status,onChange:j,className:T,children:Object.keys(r).map(e=>(0,t.jsx)("option",{value:e,children:r[e]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:C,children:"ãƒ¡ãƒ¢"}),(0,t.jsx)("textarea",{name:"memo",value:h.memo,onChange:j,rows:2,placeholder:"å‚™è€ƒãŒã‚ã‚Œã°å…¥åŠ›...",className:T})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pb-4",children:[(0,t.jsx)("button",{type:"button",onClick:o,className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),(0,t.jsx)("button",{type:"submit",disabled:v,className:"flex-1 py-3 px-4 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-lg font-medium hover:from-pink-600 hover:to-purple-600 transition-colors disabled:opacity-50",children:v?"ä¿å­˜ä¸­...":p?"è¤‡è£½ã—ã¦ç™»éŒ²":c?"æ›´æ–°":"ç™»éŒ²"})]})]})]})]})}function w(){let[e,n]=(0,a.useState)("all"),[s,l]=(0,a.useState)(""),[i,c]=(0,a.useState)(""),[d,m]=(0,a.useState)(""),[p,x]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[g,f]=(0,a.useState)(null),[N,b]=(0,a.useState)(null),w=(0,a.useRef)(null),[T,C]=(0,a.useState)("card"),{tickets:S,allTickets:D,loading:A,createTicket:I,updateTicket:E,deleteTicket:M,exportTickets:L,importTickets:O,loadSampleData:U}=function(e={}){let{filterStatus:t="all",searchQuery:r="",dateFrom:n="",dateTo:s="",sortBy:l="eventDate",sortOrder:i="asc"}=e,[c,d]=(0,a.useState)([]),[m,p]=(0,a.useState)(!0),[x,u]=(0,a.useState)(null),h=(0,a.useCallback)(async()=>{try{p(!0);let e=await v.getAll();d(e),u(null)}catch(e){u("ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ"),console.error(e)}finally{p(!1)}},[]);(0,a.useEffect)(()=>{h()},[h]);let g=[...c.filter(e=>{let a="all"===t||e.status===t,l=r.toLowerCase(),i=!l||[e.tourName,e.performerName,e.venue,e.partner,e.nameHolder,e.memo,e.seatInfo].some(e=>e?.toLowerCase().includes(l)),o=e.eventDate;return a&&i&&(!n||o>=n)&&(!s||o<=s)})].sort((e,t)=>{let a=0;switch(l){case"eventDate":let r=new Date(e.eventDate).getTime(),n=new Date(t.eventDate).getTime();a=(isNaN(r)?1/0:r)-(isNaN(n)?1/0:n);break;case"createdAt":let s=new Date(e.createdAt).getTime(),c=new Date(t.createdAt).getTime();a=(isNaN(s)?1/0:s)-(isNaN(c)?1/0:c);break;case"status":a=o[e.status]-o[t.status];break;case"price":a=(e.price??0)-(t.price??0)}return"asc"===i?a:-a});return{tickets:g,allTickets:c,loading:m,error:x,createTicket:async e=>{try{let t=await v.create(e);return d(e=>[...e,t]),t}catch(e){return u("ãƒã‚±ãƒƒãƒˆã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ"),console.error(e),null}},updateTicket:async(e,t)=>{try{let a=await v.update(e,t);return a&&d(t=>t.map(t=>t.id===e?a:t)),a}catch(e){return u("ãƒã‚±ãƒƒãƒˆã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ"),console.error(e),null}},deleteTicket:async e=>{try{let t=await v.delete(e);return t&&d(t=>t.filter(t=>t.id!==e)),t}catch(e){return u("ãƒã‚±ãƒƒãƒˆã®å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ"),console.error(e),!1}},getTicketById:e=>c.find(t=>t.id===e),exportTickets:async()=>v.exportData(),importTickets:async e=>{let t=await v.importData(e);return t&&await h(),t},loadSampleData:async()=>{await v.loadSampleData(),await h()},refetch:h}}({filterStatus:e,searchQuery:s,dateFrom:i,dateTo:d}),R=async(e,t)=>{await E(e,{status:t})},_=async e=>{confirm("ã“ã®ãƒã‚±ãƒƒãƒˆã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")&&await M(e)},H=e=>{f(e),b(null),h(!0)},Z=e=>{f(null),b(e),h(!0)},V=()=>{f(null),b(null),h(!0)},B=async e=>{g?await E(g.id,e):await I(e)},W=async()=>{let e=new Blob([await L()],{type:"application/json"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=`tickets-${new Date().toISOString().split("T")[0]}.json`,a.click(),URL.revokeObjectURL(t),x(!1)},J=async e=>{let t=e.target.files?.[0];if(!t)return;let a=new FileReader;a.onload=async e=>{let t=e.target?.result;await O(t)?alert("ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ"):alert("ã‚¤ãƒ³ãƒãƒ¼ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ")},a.readAsText(t),x(!1),e.target.value=""},q=D.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{}),$=(0,a.useMemo)(()=>Array.from(new Set(D.map(e=>e.tourName).filter(Boolean))),[D]),z=(0,a.useMemo)(()=>Array.from(new Set(D.map(e=>e.nameHolder).filter(Boolean))),[D]),P=(0,a.useMemo)(()=>S.reduce((e,t)=>{let a=t.tourName||"ãã®ä»–";return e[a]||(e[a]=[]),e[a].push(t),e},{}),[S]);return(0,t.jsxs)("div",{className:"min-h-screen pb-20",children:[(0,t.jsx)("header",{className:"sticky top-0 z-10 bg-gradient-to-r from-pink-500 to-purple-500 text-white shadow-lg",children:(0,t.jsxs)("div",{className:"max-w-lg mx-auto px-4 py-4 flex items-center justify-between",children:[(0,t.jsx)("h1",{className:"text-xl font-bold",children:"ãƒã‚±ç®¡ç†"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>C("card"===T?"compact":"card"),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"card"===T?"ç°¡æ˜“è¡¨ç¤ºã«åˆ‡ã‚Šæ›¿ãˆ":"è©³ç´°è¡¨ç¤ºã«åˆ‡ã‚Šæ›¿ãˆ",children:"card"===T?(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}):(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M3 14h18m-9-4v8m-7-4h14"})})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{onClick:()=>x(!p),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),p&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 text-gray-800",children:[(0,t.jsx)("button",{onClick:W,className:"w-full px-4 py-2 text-left hover:bg-pink-50",children:"ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ"}),(0,t.jsx)("button",{onClick:()=>{w.current?.click()},className:"w-full px-4 py-2 text-left hover:bg-pink-50",children:"ã‚¤ãƒ³ãƒãƒ¼ãƒˆ"}),(0,t.jsx)("button",{onClick:()=>{U(),x(!1)},className:"w-full px-4 py-2 text-left hover:bg-pink-50",children:"ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿èª­è¾¼"})]})]})]})]})}),(0,t.jsx)("input",{ref:w,type:"file",accept:".json",onChange:J,className:"hidden"}),(0,t.jsxs)("main",{className:"max-w-lg mx-auto px-4 py-6",children:[(0,t.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"ãƒ„ã‚¢ãƒ¼åã€ä¼šå ´ã€å–å¼•ç›¸æ‰‹ãªã©ã§æ¤œç´¢...",className:"w-full px-4 py-2 pl-10 border border-pink-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300 bg-white text-gray-800"}),(0,t.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s&&(0,t.jsx)("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("input",{type:"date",value:i,onChange:e=>c(e.target.value),className:"flex-1 px-3 py-2 border border-pink-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300 bg-white text-gray-800 text-sm"}),(0,t.jsx)("span",{className:"text-gray-500",children:"ã€œ"}),(0,t.jsx)("input",{type:"date",value:d,onChange:e=>m(e.target.value),className:"flex-1 px-3 py-2 border border-pink-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300 bg-white text-gray-800 text-sm"}),(i||d)&&(0,t.jsx)("button",{onClick:()=>{c(""),m("")},className:"p-2 text-gray-400 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide",children:[(0,t.jsxs)("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${"all"===e?"bg-gradient-to-r from-pink-500 to-purple-500 text-white":"bg-white text-gray-600 border border-pink-200"}`,children:["ã™ã¹ã¦ (",D.length,")"]}),Object.keys(r).map(a=>(0,t.jsxs)("button",{onClick:()=>n(a),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${e===a?"bg-gradient-to-r from-pink-500 to-purple-500 text-white":"bg-white text-gray-600 border border-pink-200"}`,children:[r[a]," (",q[a]||0,")"]},a))]})]}),A?(0,t.jsx)("div",{className:"text-center py-12 text-gray-500",children:"èª­ã¿è¾¼ã¿ä¸­..."}):0===S.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ðŸŽ«"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"all"!==e?`${r[e]}ã®ãƒã‚±ãƒƒãƒˆãŒã‚ã‚Šã¾ã›ã‚“`:"ãƒã‚±ãƒƒãƒˆãŒã‚ã‚Šã¾ã›ã‚“"}),(0,t.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,t.jsx)("button",{onClick:V,className:"inline-block px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-lg font-medium",children:"ãƒã‚±ãƒƒãƒˆã‚’ç™»éŒ²"}),"all"===e&&(0,t.jsx)("button",{onClick:()=>{U(),C("card")},className:"inline-block px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium",children:"ã‚µãƒ³ãƒ—ãƒ«ã‚’èª­è¾¼"})]})]}):(0,t.jsx)("div",{className:"space-y-6",children:Object.entries(P).map(([e,a])=>(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-3 sticky top-[72px] bg-gray-50/90 backdrop-blur-sm py-2 z-[1]",children:e}),(0,t.jsx)("div",{className:"card"===T?"space-y-4":"border border-gray-200 rounded-lg overflow-hidden",children:a.map(e=>"card"===T?(0,t.jsx)(y,{ticket:e,onStatusChange:R,onDelete:_,onEdit:H,onDuplicate:Z},e.id):(0,t.jsx)(j,{ticket:e,onClick:H},e.id))})]},e))}),(0,t.jsxs)("footer",{className:"mt-12 text-center text-xs text-gray-400",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"ãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦:"})," ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚ãªãŸã®ãƒ–ãƒ©ã‚¦ã‚¶å†…ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼‰ã«ã®ã¿ä¿å­˜ã—ã¾ã™ã€‚"]}),(0,t.jsx)("p",{children:"ãƒ‡ãƒ¼ã‚¿ãŒå¤–éƒ¨ã®ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ãƒ»ä¿å­˜ã•ã‚Œã‚‹ã“ã¨ã¯ä¸€åˆ‡ã‚ã‚Šã¾ã›ã‚“ã€‚"})]})]}),(0,t.jsx)("button",{onClick:V,className:"fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-full shadow-lg flex items-center justify-center hover:shadow-xl transition-shadow",children:(0,t.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),(0,t.jsx)(k,{isOpen:u,onClose:()=>{h(!1),f(null),b(null)},initialData:g||(N?{...N,id:"",status:"recruiting",seatInfo:"",partner:"",mainContact:"",subContact:"",relatedUrl:"",memo:""}:null),onSubmit:B,isDuplicate:!!N,tourNames:$,nameHolders:z})]})}e.s(["default",()=>w],10146)}]);